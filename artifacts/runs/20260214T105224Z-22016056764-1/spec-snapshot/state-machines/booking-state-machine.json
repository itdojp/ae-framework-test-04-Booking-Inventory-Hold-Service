{
  "schemaVersion": "1.0.0",
  "id": "bi_booking_lifecycle",
  "name": "BookingLifecycle",
  "description": "Booking の状態遷移（CONFIRMED/CANCELLED）",
  "initial": "CONFIRMED",
  "states": [
    {
      "name": "CONFIRMED",
      "description": "確定済み予約"
    },
    {
      "name": "CANCELLED",
      "description": "取消済み予約"
    }
  ],
  "events": [
    "cancel"
  ],
  "transitions": [
    {
      "from": "CONFIRMED",
      "to": "CANCELLED",
      "event": "cancel",
      "guard": "is_owner_or_admin",
      "actions": ["release_slot", "emit_BOOKING_CANCEL"]
    }
  ],
  "metadata": {
    "sourceSpec": "spec/BI-SPEC-001.md"
  },
  "correlation": {
    "runId": "spec-bootstrap-20260214",
    "workflow": "manual"
  }
}
